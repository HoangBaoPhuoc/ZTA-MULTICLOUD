#═══════════════════════════════════════════════════════════════════════════════
# Zero Trust Architecture - Environment Configuration
# Copy this file to .env and customize for your environment
#═══════════════════════════════════════════════════════════════════════════════

#───────────────────────────────────────────────────────────────────────────────
# OpenStack Configuration
#───────────────────────────────────────────────────────────────────────────────
# These should match your OpenStack RC file
OS_AUTH_URL="http://192.168.1.254:5000/v3"
OS_PROJECT_NAME="ZeroTrust_Project"
OS_USERNAME="zerotrust_admin"
OS_PASSWORD="your_password_here"
OS_REGION_NAME="RegionOne"
OS_USER_DOMAIN_NAME="Default"
OS_PROJECT_DOMAIN_NAME="Default"

#───────────────────────────────────────────────────────────────────────────────
# SSH Configuration
#───────────────────────────────────────────────────────────────────────────────
SSH_KEY_NAME="zta-keypair"
SSH_PRIVATE_KEY_PATH="~/.ssh/openstack-key.pem"
SSH_USER="ubuntu"

#───────────────────────────────────────────────────────────────────────────────
# Network Configuration
#───────────────────────────────────────────────────────────────────────────────
# External network name in OpenStack
EXTERNAL_NETWORK="external_network"

# Internal network CIDRs
CLOUD_AWS_CIDR="10.20.2.0/24"
CLOUD_OS_CIDR="10.10.2.0/24"
OBSERVABILITY_CIDR="10.40.1.0/24"
DMZ_CIDR="10.50.1.0/24"

# WireGuard tunnel IPs
WG_AWS_IP="10.99.0.1"
WG_OS_IP="10.99.0.2"
WG_PORT="51820"

#───────────────────────────────────────────────────────────────────────────────
# VM Configuration
#───────────────────────────────────────────────────────────────────────────────
# Flavor (instance size)
VM_FLAVOR="m1.medium"

# Ubuntu image name
VM_IMAGE="ubuntu22.04"

#───────────────────────────────────────────────────────────────────────────────
# Keycloak Configuration
#───────────────────────────────────────────────────────────────────────────────
KEYCLOAK_VERSION="23.0.4"
KEYCLOAK_ADMIN="admin"
KEYCLOAK_ADMIN_PASSWORD="Admin@123"
KEYCLOAK_REALM="zta"
KEYCLOAK_CLIENT_ID="zta-web"

# Demo user credentials
DEMO_USERNAME="demo"
DEMO_PASSWORD="demo123"

# Token lifetime in seconds (default: 15 minutes)
TOKEN_LIFETIME="900"

#───────────────────────────────────────────────────────────────────────────────
# Envoy Configuration
#───────────────────────────────────────────────────────────────────────────────
ENVOY_VERSION="v1.28-latest"
ENVOY_AWS_PORT="8080"
ENVOY_OS_PORT="443"
ENVOY_ADMIN_PORT="9901"

#───────────────────────────────────────────────────────────────────────────────
# OPA Configuration
#───────────────────────────────────────────────────────────────────────────────
OPA_VERSION="latest-envoy"
OPA_GRPC_PORT="9191"
OPA_REST_PORT="8181"

#───────────────────────────────────────────────────────────────────────────────
# SPIRE Configuration
#───────────────────────────────────────────────────────────────────────────────
SPIRE_VERSION="1.8.7"
SPIRE_TRUST_DOMAIN="zta.local"
SPIRE_SVID_TTL="5m"
SPIRE_CA_TTL="24h"

#───────────────────────────────────────────────────────────────────────────────
# Monitoring Configuration
#───────────────────────────────────────────────────────────────────────────────
PROMETHEUS_PORT="9090"
GRAFANA_PORT="3000"
GRAFANA_ADMIN_PASSWORD="admin"
LOKI_PORT="3100"
JAEGER_UI_PORT="16686"

#───────────────────────────────────────────────────────────────────────────────
# K3s Configuration
#───────────────────────────────────────────────────────────────────────────────
FRONTEND_NODEPORT="30090"
BACKEND_NODEPORT="30091"

#───────────────────────────────────────────────────────────────────────────────
# Certificate Configuration
#───────────────────────────────────────────────────────────────────────────────
CERT_COUNTRY="VN"
CERT_ORG="ZTA"
CERT_CA_CN="ZTA-CA"
CERT_VALIDITY_DAYS="3650"

#───────────────────────────────────────────────────────────────────────────────
# Deployment Options
#───────────────────────────────────────────────────────────────────────────────
# Set to "true" to skip certain steps
SKIP_TERRAFORM="false"
SKIP_ANSIBLE="false"
SKIP_VERIFICATION="false"

# Timeout values (seconds)
ANSIBLE_TIMEOUT="1800"
SSH_TIMEOUT="30"

#───────────────────────────────────────────────────────────────────────────────
# Logging
#───────────────────────────────────────────────────────────────────────────────
LOG_DIR="./logs"
LOG_LEVEL="INFO"

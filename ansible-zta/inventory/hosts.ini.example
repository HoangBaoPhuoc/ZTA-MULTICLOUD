# Zero Trust Architecture - Ansible Inventory Template
# This file is auto-generated by zta-full-deploy.sh
# Modify the IP addresses after deployment or copy this template

[all:vars]
ansible_user=ubuntu
ansible_ssh_private_key_file=~/.ssh/openstack-key.pem
ansible_python_interpreter=/usr/bin/python3
ansible_ssh_common_args='-o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null -o IdentitiesOnly=yes'

# Public IPs (will be replaced during deployment)
os_gateway_public_ip=<OS_GATEWAY_FLOATING_IP>
aws_gateway_public_ip=<AWS_GATEWAY_FLOATING_IP>
monitoring_public_ip=<MONITORING_FLOATING_IP>

[vm_gateway]
vm-aws-gateway ansible_host=<AWS_GATEWAY_FLOATING_IP>
vm-os-gateway  ansible_host=<OS_GATEWAY_FLOATING_IP>

[vm_monitoring]
vm-monitoring ansible_host=<MONITORING_FLOATING_IP>

[vm_identity]
# Identity VM is accessed via Monitoring VM as jump host
vm-identity ansible_host=10.30.1.20 ansible_ssh_common_args='-o ProxyCommand="ssh -o StrictHostKeyChecking=no -o IdentitiesOnly=yes -W %h:%p -i ~/.ssh/openstack-key.pem ubuntu@<MONITORING_FLOATING_IP>"'

[k3s_masters]
# K3s masters are accessed via their respective gateways as jump hosts
aws-master ansible_host=10.20.2.10 ansible_ssh_common_args='-o ProxyCommand="ssh -o StrictHostKeyChecking=no -o IdentitiesOnly=yes -W %h:%p -i ~/.ssh/openstack-key.pem ubuntu@<AWS_GATEWAY_FLOATING_IP>"'
os-master  ansible_host=10.10.2.10 ansible_ssh_common_args='-o ProxyCommand="ssh -o StrictHostKeyChecking=no -o IdentitiesOnly=yes -W %h:%p -i ~/.ssh/openstack-key.pem ubuntu@<OS_GATEWAY_FLOATING_IP>"'
